(this["webpackJsonpboxed-expression-editor-showcase"]=this["webpackJsonpboxed-expression-editor-showcase"]||[]).push([[0],{101:function(e,t,n){e.exports=n(102)},102:function(e,t,n){"use strict";n.r(t),n.d(t,"App",(function(){return c}));var a=n(7),i=n(0),o=n(30),r=(n(107),n(68)),c=function(){var e={name:"Expression Name",dataType:r.DataType.Undefined},t=Object(i.useState)(e),n=Object(a.a)(t,2),o=n[0],c=n[1],s={selectedExpression:e};return window.beeApi={resetExpressionDefinition:function(e){return c(e)},broadcastLiteralExpressionDefinition:function(e){return c(e)}},i.createElement("div",{className:"showcase"},i.createElement("div",{className:"boxed-expression"},i.createElement(r.BoxedExpressionEditor,{expressionDefinition:s})),i.createElement("div",{className:"updated-json"},i.createElement("p",null,"\u26a0 Currently, JSON gets updated only for literal expression logic type"),i.createElement("pre",null,JSON.stringify(o,null,2))))};o.render(i.createElement(c,null),document.getElementById("root"))},107:function(e,t,n){},108:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},17:function(e,t,n){"use strict";var a=n(75);n.o(a,"DataType")&&n.d(t,"DataType",(function(){return a.DataType})),n.o(a,"LogicType")&&n.d(t,"LogicType",(function(){return a.LogicType}));var i=n(76);n.d(t,"DataType",(function(){return i.a}));var o=n(77);n.d(t,"LogicType",(function(){return o.a}))},38:function(e,t,n){"use strict";var a=n(74);n.o(a,"BoxedExpressionEditorI18nContext")&&n.d(t,"BoxedExpressionEditorI18nContext",(function(){return a.BoxedExpressionEditorI18nContext})),n.o(a,"boxedExpressionEditorDictionaries")&&n.d(t,"boxedExpressionEditorDictionaries",(function(){return a.boxedExpressionEditorDictionaries})),n.o(a,"boxedExpressionEditorI18nDefaults")&&n.d(t,"boxedExpressionEditorI18nDefaults",(function(){return a.boxedExpressionEditorI18nDefaults})),n.o(a,"useBoxedExpressionEditorI18n")&&n.d(t,"useBoxedExpressionEditorI18n",(function(){return a.useBoxedExpressionEditorI18n}));var i=n(79);n.d(t,"BoxedExpressionEditorI18nContext",(function(){return i.a})),n.d(t,"boxedExpressionEditorDictionaries",(function(){return i.b})),n.d(t,"boxedExpressionEditorI18nDefaults",(function(){return i.c})),n.d(t,"useBoxedExpressionEditorI18n",(function(){return i.d}))},68:function(e,t,n){"use strict";var a=n(78);n.d(t,"BoxedExpressionEditor",(function(){return a.a}));var i=n(17);n.o(i,"DataType")&&n.d(t,"DataType",(function(){return i.DataType}))},74:function(e,t){},75:function(e,t){},76:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Undefined="<Undefined>",e.Any="Any",e.Boolean="boolean",e.Context="context",e.Date="date",e.DateTime="date and time",e.DateTimeDuration="days and time duration",e.Number="number",e.String="string",e.Time="time",e.YearsMonthsDuration="years and months duration"}(a||(a={}))},77:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Undefined="<Undefined>",e.LiteralExpression="Literal expression",e.Context="Context",e.DecisionTable="Decision Table",e.Relation="Relation",e.Function="Function",e.Invocation="Invocation",e.List="List"}(a||(a={}))},78:function(e,t,n){"use strict";n(108);var a=n(0),i=(n(109),n(80)),o=n(40),r=n(7),c=n(53),s=(n(112),n(38)),l=n(147),u=n(148),d=n(143),p=n(144),x=n(98),b=n(145),f=(n(113),function(e){var t=e.arrowPlacement,n=e.body,i=e.title,o=e.appendTo;return a.createElement(b.a,{className:"popover-menu-selector",position:"bottom",distance:0,id:"menu-selector",reference:t,appendTo:o,headerContent:a.createElement("div",{className:"selector-menu-title"},i),bodyContent:n})}),E=n(17),m=(n(123),n(142)),y=(n(124),n(42)),T=n(146),v=n(4),g=function(e){var t,n,i,o=e.appendTo,l=e.arrowPlacement,u=e.title,d=e.nameField,p=e.dataTypeField,x=e.selectedDataType,b=void 0===x?E.DataType.Undefined:x,m=e.selectedExpressionName,g=e.onExpressionUpdate,O=Object(s.useBoxedExpressionEditorI18n)().i18n;u=null!==(t=u)&&void 0!==t?t:O.editExpression,d=null!==(n=d)&&void 0!==n?n:O.name,p=null!==(i=p)&&void 0!==i?i:O.dataType;var j=Object(a.useState)(!1),D=Object(r.a)(j,2),C=D[0],L=D[1],N=Object(a.useState)(b),k=Object(r.a)(N,2),h=k[0],w=k[1],I=Object(a.useState)(m),S=Object(r.a)(I,2),B=S[0],U=S[1],A=Object(a.useCallback)((function(e){U(e.target.value),"blur"===e.type&&g({name:e.target.value,dataType:h})}),[h,g]),F=Object(a.useCallback)((function(e,t){L(!1),w(t),g({name:B,dataType:t})}),[B,g]),P=Object(a.useCallback)((function(){return c.map(Object.values(E.DataType),(function(e){return a.createElement(y.a,{key:e,value:e},e)}))}),[]),R=Object(a.useCallback)((function(e){var t;try{t=new RegExp(e.target.value,"i")}catch(n){return P()}return""!==e.target.value?P().filter((function(e){return t.test(e.props.value)})):P()}),[P]),J=Object(a.useCallback)((function(e){return L(e)}),[]);return a.createElement(f,{title:u,arrowPlacement:l,appendTo:o,body:a.createElement("div",{className:"edit-expression-menu"},a.createElement("div",{className:"expression-name"},a.createElement("label",null,d),a.createElement("input",{type:"text",id:"expression-name",value:B,onChange:A,onBlur:A,className:"form-control pf-c-form-control",placeholder:"Expression Name"})),a.createElement("div",{className:"expression-data-type"},a.createElement("label",null,p),a.createElement(T.a,{variant:v.e.typeahead,typeAheadAriaLabel:O.choose,onToggle:J,onSelect:F,onFilter:R,isOpen:C,selections:h,hasInlineFilter:!0,inlineFilterPlaceholderText:O.choose},P())))})},O=function(e){var t=e.content,n=e.dataType,i=e.name,o=e.onUpdatingNameAndDataType,c=e.isHeadless,s=void 0!==c&&c,l=Object(a.useState)(i),u=Object(r.a)(l,2),d=u[0],p=u[1],x=Object(a.useState)(n),b=Object(r.a)(x,2),f=b[0],y=b[1],T=Object(a.useState)(t),v=Object(r.a)(T,2),O=v[0],j=v[1];Object(a.useEffect)((function(){var e;(null===(e=window.beeApi)||void 0===e?void 0:e.broadcastLiteralExpressionDefinition)&&window.beeApi.broadcastLiteralExpressionDefinition({name:d,dataType:f,logicType:E.LogicType.LiteralExpression,content:O})}));var D=Object(a.useCallback)((function(e){var t=e.dataType,n=e.name;p(n),y(t),o&&o(n,t)}),[o]),C=Object(a.useCallback)((function(e){var t=e.target.value;j(t)}),[]),L=Object(a.useCallback)((function(){return document.querySelector(".literal-expression-header")}),[]),N=Object(a.useCallback)((function(){return a.createElement("div",{className:"literal-expression-header"},a.createElement("p",{className:"expression-name"},d),a.createElement("p",{className:"expression-data-type"},"(",f,")"))}),[f,d]);return a.createElement("div",{className:"literal-expression"},s?null:N(),a.createElement("div",{className:"literal-expression-body"},a.createElement(m.a,{defaultValue:O,onBlur:C,"aria-label":"literal-expression-content"})),a.createElement(g,{arrowPlacement:L,selectedExpressionName:d,selectedDataType:f,onExpressionUpdate:D}))},j=function(e){var t=Object(s.useBoxedExpressionEditorI18n)().i18n,n=Object(a.useState)(!c.isEmpty(e.selectedExpression.logicType)||e.selectedExpression.logicType===E.LogicType.Undefined),i=Object(r.a)(n,2),b=i[0],m=i[1],y=Object(a.useState)(!1),T=Object(r.a)(y,2),v=T[0],g=T[1],j=Object(a.useState)(e.selectedExpression),D=Object(r.a)(j,2),C=D[0],L=D[1],N=Object(a.useCallback)((function(e,t){m(!0);var n=t.children;L((function(e){return Object(o.a)(Object(o.a)({},e),{},{logicType:n})}))}),[]),k=Object(a.useCallback)((function(){m(!1),L((function(e){var t,n={name:e.name,dataType:e.dataType,logicType:E.LogicType.Undefined};return(null===(t=window.beeApi)||void 0===t?void 0:t.resetExpressionDefinition)&&window.beeApi.resetExpressionDefinition(n),n}))}),[]),h=Object(a.useCallback)((function(e){return g(e)}),[]),w=Object(a.useCallback)((function(e){return g(!e)}),[]),I=Object(a.useCallback)((function(){return a.createElement(l.a,{onSelect:w,toggle:a.createElement(u.a,{onToggle:h,className:"expression-actions-toggle"}),isOpen:v,isPlain:!0,dropdownItems:[a.createElement(d.a,{key:"clear",onClick:k,isDisabled:!b},t.clear)]})}),[t.clear,w,h,v,b,k]),S=Object(a.useCallback)((function(){return Object.values(E.LogicType).filter((function(e){return e!==E.LogicType.Undefined}))}),[]),B=Object(a.useCallback)((function(){return c.map(S(),(function(e){return a.createElement(p.a,{key:e},e)}))}),[S]),U=Object(a.useCallback)((function(){return document.querySelector(".expression-container-box")}),[]),A=Object(a.useCallback)((function(){return a.createElement(f,{title:t.selectLogicType,arrowPlacement:U,body:a.createElement(x.a,{onSelect:N},B())})}),[t.selectLogicType,U,N,B]),F=Object(a.useCallback)((function(e,t){L((function(n){return Object(o.a)(Object(o.a)({},n),{},{name:e,dataType:t})}))}),[]),P=Object(a.useMemo)((function(){switch(C.logicType){case E.LogicType.LiteralExpression:return a.createElement(O,Object.assign({onUpdatingNameAndDataType:F},C));case E.LogicType.Context:case E.LogicType.DecisionTable:case E.LogicType.Relation:case E.LogicType.Function:case E.LogicType.Invocation:case E.LogicType.List:default:return C.logicType}}),[C,F]);return a.createElement("div",{className:"expression-container"},a.createElement("span",{className:"expression-title"},C.name),a.createElement("span",{className:"expression-type"},"(",C.logicType||E.LogicType.Undefined,")"),a.createElement("span",{className:"expression-actions"},I()),a.createElement("div",{className:"expression-container-box ".concat(b?"logic-type-selected":"logic-type-not-present")},C.logicType?P:t.selectExpression),b?null:A())},D=function(e){return a.createElement(i.I18nDictionariesProvider,{defaults:s.boxedExpressionEditorI18nDefaults,dictionaries:s.boxedExpressionEditorDictionaries,initialLocale:navigator.language,ctx:s.BoxedExpressionEditorI18nContext},a.createElement(j,e.expressionDefinition))};n.d(t,"a",(function(){return D}))},79:function(e,t,n){"use strict";var a=n(0),i=n(40),o=n(81),r=Object(i.a)(Object(i.a)({choose:"Choose...",editExpression:"Edit Expression",name:"Name",dataType:"Data Type"},o.en),{},{selectExpression:"Select expression",selectLogicType:"Select logic type",literalExpression:"Literal expression",context:"Context",decisionTable:"Decision Table",relation:"Relation",function:"Function",invocation:"Invocation",list:"List",clear:"Clear"});n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u}));var c={locale:"en",dictionary:r},s=new Map([["en",r]]),l=a.createContext({});function u(){return Object(a.useContext)(l)}}},[[101,1,2]]]);
//# sourceMappingURL=main.04204b96.chunk.js.map