(this["webpackJsonpboxed-expression-editor-showcase"]=this["webpackJsonpboxed-expression-editor-showcase"]||[]).push([[0],{105:function(e,t,n){"use strict";var a=n(80),r=n(0),o=n(32);n.d(t,"BoxedExpressionEditor",(function(){return a.a}));var i=n(2);n.o(i,"DataType")&&n.d(t,"DataType",(function(){return i.DataType})),window.renderBoxedExpressionEditor=function(e,t){o.render(r.createElement(a.a,{expressionDefinition:{selectedExpression:t}}),document.getElementById(e))}},112:function(e,t,n){},113:function(e,t,n){"use strict";var a;!function(e){e.Sum="+",e.Count="#",e.Min="<",e.Max=">"}(a||(a={}))},114:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return u}));var a=n(9),r=n(49),o=150,i=370,c=function(e,t){return[{group:t,items:[{name:e.rowOperations.insertAbove,type:r.b.RowInsertAbove},{name:e.rowOperations.insertBelow,type:r.b.RowInsertBelow},{name:e.rowOperations.delete,type:r.b.RowDelete},{name:e.rowOperations.clear,type:r.b.RowClear}]}]},s=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,o="".concat(n,"-").concat(r),i=a.find(t,{entryInfo:{name:o}});return i?e(t,n,r+1):o},l=function(e){return e.original.entryInfo.name},u=function(e){return{entryInfo:e.entryInfo,entryExpression:{uid:e.entryExpression.uid}}}},116:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Undefined="<Undefined>",e.Any="Any",e.Boolean="boolean",e.Context="context",e.Date="date",e.DateTime="date and time",e.DateTimeDuration="days and time duration",e.Number="number",e.String="string",e.Time="time",e.YearsMonthsDuration="years and months duration"}(a||(a={}))},117:function(e,t){},118:function(e,t){},119:function(e,t,n){"use strict";var a;!function(e){e.Unique="UNIQUE",e.First="FIRST",e.Priority="PRIORITY",e.Any="ANY",e.Collect="COLLECT",e.RuleOrder="RULE ORDER",e.OutputOrder="OUTPUT ORDER"}(a||(a={}))},120:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Undefined="<Undefined>",e.LiteralExpression="Literal expression",e.Context="Context",e.DecisionTable="Decision Table",e.Relation="Relation",e.Function="Function",e.Invocation="Invocation",e.List="List"}(a||(a={}))},121:function(e,t){},143:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u}));var a=n(0),r=n(12),o=n(157),i=Object(r.a)(Object(r.a)({},o.en),{},{choose:"Choose...",clear:"Clear",columnOperations:{delete:"Delete",insertLeft:"Insert left",insertRight:"Insert right"},columns:"COLUMNS",context:"Context",contextEntry:"CONTEXT ENTRY",dataType:"Data Type",decisionTable:"Decision Table",editContextEntry:"Edit Context Entry",editExpression:"Edit Expression",editRelation:"Edit Relation",enterFunction:"Enter function",function:"Function",invocation:"Invocation",list:"List",literalExpression:"Literal expression",name:"Name",parameters:"PARAMETERS",relation:"Relation",rowOperations:{clear:"Clear",delete:"Delete",insertAbove:"Insert above",insertBelow:"Insert below"},rows:"ROWS",selectExpression:"Select expression",selectLogicType:"Select logic type"}),c={locale:"en",dictionary:i},s=new Map([["en",i]]),l=a.createContext({});function u(){return Object(a.useContext)(l)}},166:function(e,t,n){"use strict";n.r(t),n.d(t,"App",(function(){return c}));var a=n(4),r=n(0),o=n(32),i=(n(172),n(105)),c=function(){var e={name:"Expression Name",dataType:i.DataType.Undefined},t=Object(r.useState)(e),n=Object(a.a)(t,2),o=n[0],c=n[1],s={selectedExpression:e};return window.beeApi={resetExpressionDefinition:function(e){return c(e)},broadcastLiteralExpressionDefinition:function(e){return c(e)},broadcastRelationExpressionDefinition:function(e){return c(e)},broadcastContextExpressionDefinition:function(e){return c(e)},broadcastListExpressionDefinition:function(e){return c(e)},broadcastInvocationExpressionDefinition:function(e){return c(e)}},r.createElement("div",{className:"showcase"},r.createElement("div",{className:"boxed-expression"},r.createElement(i.BoxedExpressionEditor,{expressionDefinition:s})),r.createElement("div",{className:"updated-json"},r.createElement("p",{className:"disclaimer"},"\u26a0 Currently, JSON gets updated only for literal expression, relation, context, list and invocation logic types"),r.createElement("pre",null,JSON.stringify(o,null,2))))};o.render(r.createElement(c,null),document.getElementById("root"))},172:function(e,t,n){},173:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},196:function(e,t,n){},2:function(e,t,n){"use strict";n(112),n(113);var a=n(114);n.d(t,"DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH",(function(){return a.a})),n.d(t,"DEFAULT_ENTRY_INFO_MIN_WIDTH",(function(){return a.b})),n.d(t,"generateNextAvailableEntryName",(function(){return a.c})),n.d(t,"getEntryKey",(function(){return a.d})),n.d(t,"getHandlerConfiguration",(function(){return a.e})),n.d(t,"resetEntry",(function(){return a.f}));var r=n(116);n.d(t,"DataType",(function(){return r.a}));var o=n(117);n.o(o,"LogicType")&&n.d(t,"LogicType",(function(){return o.LogicType})),n.o(o,"TableHeaderVisibility")&&n.d(t,"TableHeaderVisibility",(function(){return o.TableHeaderVisibility})),n.o(o,"TableOperation")&&n.d(t,"TableOperation",(function(){return o.TableOperation}));var i=n(118);n.o(i,"LogicType")&&n.d(t,"LogicType",(function(){return i.LogicType})),n.o(i,"TableHeaderVisibility")&&n.d(t,"TableHeaderVisibility",(function(){return i.TableHeaderVisibility})),n.o(i,"TableOperation")&&n.d(t,"TableOperation",(function(){return i.TableOperation}));n(119);var c=n(120);n.d(t,"LogicType",(function(){return c.a}));var s=n(49);n.d(t,"TableHeaderVisibility",(function(){return s.a})),n.d(t,"TableOperation",(function(){return s.b}))},205:function(e,t,n){},207:function(e,t,n){},279:function(e,t,n){},28:function(e,t,n){"use strict";var a=n(121);n.o(a,"BoxedExpressionEditorI18nContext")&&n.d(t,"BoxedExpressionEditorI18nContext",(function(){return a.BoxedExpressionEditorI18nContext})),n.o(a,"boxedExpressionEditorDictionaries")&&n.d(t,"boxedExpressionEditorDictionaries",(function(){return a.boxedExpressionEditorDictionaries})),n.o(a,"boxedExpressionEditorI18nDefaults")&&n.d(t,"boxedExpressionEditorI18nDefaults",(function(){return a.boxedExpressionEditorI18nDefaults})),n.o(a,"useBoxedExpressionEditorI18n")&&n.d(t,"useBoxedExpressionEditorI18n",(function(){return a.useBoxedExpressionEditorI18n}));var r=n(143);n.d(t,"BoxedExpressionEditorI18nContext",(function(){return r.a})),n.d(t,"boxedExpressionEditorDictionaries",(function(){return r.b})),n.d(t,"boxedExpressionEditorI18nDefaults",(function(){return r.c})),n.d(t,"useBoxedExpressionEditorI18n",(function(){return r.d}))},282:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},49:function(e,t,n){"use strict";var a,r;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e[e.Full=0]="Full",e[e.LastLevel=1]="LastLevel",e[e.SecondToLastLevel=2]="SecondToLastLevel",e[e.None=3]="None"}(a||(a={})),function(e){e[e.ColumnInsertLeft=0]="ColumnInsertLeft",e[e.ColumnInsertRight=1]="ColumnInsertRight",e[e.ColumnDelete=2]="ColumnDelete",e[e.RowInsertAbove=3]="RowInsertAbove",e[e.RowInsertBelow=4]="RowInsertBelow",e[e.RowDelete=5]="RowDelete",e[e.RowClear=6]="RowClear"}(r||(r={}))},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return re}));n(173);var a=n(4),r=n(0),o=(n(174),n(175),n(176),n(144)),i=n(12),c=(n(177),n(2)),s=(n(178),n(179),n(293)),l=(n(180),n(302)),u=(n(181),function(e){var t=e.children,n=e.arrowPlacement,a=e.body,o=e.title,i=e.appendTo,c=e.className,s=e.hasAutoWidth;return r.createElement(l.a,{"data-ouia-component-id":"expression-popover-menu",className:"popover-menu-selector".concat(c?" "+c:""),hasAutoWidth:s,position:"bottom",distance:0,id:"menu-selector",reference:n,appendTo:i,headerContent:r.createElement("div",{className:"selector-menu-title","data-ouia-component-id":"expression-popover-menu-title"},o),bodyContent:a},t)}),d=n(28),p=n(50),b=n(301),m=n(7),f=n(9),E=r.createContext({}),O="Expression Name",y=function(e){var t,n,o,i,s,l,y=e.children,v=e.appendTo,x=e.arrowPlacement,T=e.title,j=e.nameField,C=e.dataTypeField,g=e.selectedDataType,R=void 0===g?c.DataType.Undefined:g,w=e.selectedExpressionName,h=e.onExpressionUpdate,I=Object(r.useContext)(E),N=Object(d.useBoxedExpressionEditorI18n)().i18n;T=null!==(t=T)&&void 0!==t?t:N.editExpression,j=null!==(n=j)&&void 0!==n?n:N.name,C=null!==(o=C)&&void 0!==o?o:N.dataType,v=null!==(i=null!==(s=v)&&void 0!==s?s:null===(l=I.boxedExpressionEditorRef)||void 0===l?void 0:l.current)&&void 0!==i?i:void 0;var k=Object(r.useState)(!1),D=Object(a.a)(k,2),L=D[0],H=D[1],U=Object(r.useState)(R),S=Object(a.a)(U,2),A=S[0],_=S[1],F=Object(r.useState)(w),P=Object(a.a)(F,2),W=P[0],B=P[1];Object(r.useEffect)((function(){B(w)}),[w]),Object(r.useEffect)((function(){_(R)}),[R]);var M=Object(r.useCallback)((function(e){B(e.target.value),"blur"===e.type&&h({name:e.target.value,dataType:A})}),[A,h]),V=Object(r.useCallback)((function(e,t){H(!1),_(t),h({name:W,dataType:t})}),[W,h]),z=Object(r.useCallback)((function(){return f.map(Object.values(c.DataType),(function(e){return r.createElement(p.a,{key:e,value:e},e)}))}),[]),Y=Object(r.useCallback)((function(e){var t;try{t=new RegExp(e.target.value,"i")}catch(n){return z()}return""!==e.target.value?z().filter((function(e){return t.test(e.props.value)})):z()}),[z]),K=Object(r.useCallback)((function(e){return H(e)}),[]);return r.createElement(u,{title:T,arrowPlacement:x,appendTo:v,body:r.createElement("div",{className:"edit-expression-menu"},r.createElement("div",{className:"expression-name"},r.createElement("label",null,j),r.createElement("input",{type:"text",id:"expression-name","data-ouia-component-id":"edit-expression-name",value:W,onChange:M,onBlur:M,className:"form-control pf-c-form-control",placeholder:O})),r.createElement("div",{className:"expression-data-type"},r.createElement("label",null,C),r.createElement(b.a,{ouiaId:"edit-expression-data-type",variant:m.e.typeahead,typeAheadAriaLabel:N.choose,onToggle:K,onSelect:V,onFilter:Y,isOpen:L,selections:A,hasInlineFilter:!0,inlineFilterPlaceholderText:N.choose},z())))},y)},v=(n(196),n(159)),x=r.createElement("div",{className:"pf-c-drawer__splitter pf-m-vertical"},r.createElement("div",{className:"pf-c-drawer__splitter-handle"})),T=function(e){var t=e.children,n=e.height,a=e.minHeight,o=void 0===a?0:a,i=e.minWidth,c=e.onHorizontalResizeStop,s=e.width,l="100%"===n?0:n,u=Object(r.useMemo)((function(){return r.createElement("div",{className:"pf-c-drawer"},x)}),[]),d=Object(r.useCallback)((function(e,t){return c(t.size.width)}),[c]);return r.createElement(v.ResizableBox,{className:"".concat("100%"===n?"height-based-on-content":""),width:s,height:l,minConstraints:[i,o],axis:"x",onResizeStop:d,handle:u},t)},j=function(e){var t=e.uid,n=e.content,a=void 0===n?"":n,o=e.dataType,l=void 0===o?c.DataType.Undefined:o,u=e.name,d=void 0===u?O:u,p=e.onUpdatingNameAndDataType,b=e.isHeadless,m=void 0!==b&&b,f=e.onUpdatingRecursiveExpression,E=e.width,v=Object(r.useRef)(d),x=Object(r.useRef)(l),j=Object(r.useRef)(a),C=Object(r.useRef)(E||250),g=Object(r.useCallback)((function(){var e,n,a=Object(i.a)({uid:t,name:v.current,dataType:x.current,logicType:c.LogicType.LiteralExpression,content:j.current},m||250===C.current?{}:{width:C.current});m?null===f||void 0===f||f(a):null===(e=window.beeApi)||void 0===e||null===(n=e.broadcastLiteralExpressionDefinition)||void 0===n||n.call(e,a)}),[m,f,t]),R=Object(r.useCallback)((function(e){var t=e.dataType,n=void 0===t?c.DataType.Undefined:t,a=e.name,r=void 0===a?O:a;v.current=r,x.current=n,null===p||void 0===p||p(r,n),g()}),[p,g]),w=Object(r.useCallback)((function(e){j.current=e.target.value,g()}),[g]),h=Object(r.useCallback)((function(e){C.current=e,g()}),[g]),I=Object(r.useCallback)((function(e){return r.createElement(T,{width:C.current,height:40,minWidth:250,minHeight:40,onHorizontalResizeStop:h},e)}),[h]),N=Object(r.useMemo)((function(){return r.createElement("div",{className:"literal-expression-header"},I(r.createElement(y,{selectedExpressionName:v.current,selectedDataType:x.current,onExpressionUpdate:R},r.createElement("div",{className:"expression-info"},r.createElement("p",{className:"expression-name pf-u-text-truncate"},v.current),r.createElement("p",{className:"expression-data-type pf-u-text-truncate"},"(",x.current,")")))))}),[R,I]),k=Object(r.useMemo)((function(){return r.createElement(s.a,{defaultValue:j.current,onBlur:w,"aria-label":"literal-expression-content"})}),[w]);return Object(r.useEffect)((function(){g()}),[g]),r.createElement("div",{className:"literal-expression"},m?null:N,r.createElement("div",{className:"literal-expression-body"},k))},C=(n(205),n(206),n(10)),g=(n(207),n(95)),R=n(306),w=n(300),h=n(294),I=n(295),N=function(e){var t=e.tableInstance,n=e.children,a=e.headerVisibility,o=void 0===a?c.TableHeaderVisibility.Full:a,i=e.getRowKey,s=e.getColumnKey,l=Object(r.useCallback)((function(e){return r.createElement("div",Object.assign({className:"pf-c-drawer drawer-on-body"},e.column.canResizeOnCell?e.column.getResizerProps():{}),x)}),[]),u=Object(r.useCallback)((function(e,n,a){var o=0===e?"counter-cell":"data-cell",i=n.column.canResizeOnCell?"has-resizer":"";return r.createElement(w.a,Object.assign({},0===e?{}:n.getCellProps(),t.getTdProps(e,a),{key:"".concat(s(n.column),"-").concat(e),"data-ouia-component-id":"expression-column-"+e,className:"".concat(o," ").concat(i)}),0===e?a+1:n.render("Cell"),n.column.canResizeOnCell?l(n):null)}),[s,l,t]),d=Object(r.useCallback)((function(e,t){return r.createElement(h.a,Object.assign({className:"table-row"},e.getRowProps(),{key:"".concat(i(e),"-").concat(t),ouiaId:"expression-row-"+t}),e.cells.map((function(e,n){return u(n,e,t)})))}),[i,u]),p=Object(r.useMemo)((function(){return r.createElement(h.a,{className:"table-row additive-row"},r.createElement(w.a,{role:"cell",className:"empty-cell"},r.createElement("br",null)),null===n||void 0===n?void 0:n.map((function(e,n){return r.createElement(w.a,{role:"cell",key:n,className:"row-remainder-content",style:{width:t.allColumns[n+1].width,minWidth:t.allColumns[n+1].minWidth}},e)})))}),[n,t.allColumns]);return r.createElement(I.a,Object.assign({className:"".concat(o===c.TableHeaderVisibility.None?"missing-header":"")},t.getTableBodyProps()),t.rows.map((function(e,n){return t.prepareRow(e),d(e,n)})),n?p:null)},k=(n(279),n(296)),D=n(297),L=n(298),H=n(304),U=function(e){var t=e.handlerConfiguration,n=e.allowedOperations,a=e.onOperation;return r.createElement(k.a,{ouiaId:"expression-table-handler-menu",className:"table-handler-menu",onSelect:function(e,t){return a(t)}},t.map((function(e){return r.createElement(D.a,{key:e.group,label:e.group,className:f.every(e.items,(function(e){return!f.includes(n,e.type)}))?"no-allowed-actions-in-group":""},r.createElement(L.a,null,e.items.map((function(e){return r.createElement(H.a,{"data-ouia-component-id":"expression-table-handler-menu-"+e.name,key:e.type,itemId:e.type,isDisabled:!f.includes(n,e.type)},e.name)}))))})))},S=function(e){var t=e.columnPrefix,n=e.tableColumns,o=e.lastSelectedColumnIndex,i=e.lastSelectedRowIndex,s=e.tableRows,u=e.onRowsUpdate,d=e.onRowAdding,p=e.showTableHandler,b=e.setShowTableHandler,m=e.tableHandlerTarget,O=e.handlerConfiguration,y=e.tableHandlerAllowedOperations,v=e.resetRowCustomFunction,x=void 0===v?function(){return{}}:v,T=e.onColumnsUpdate,j=Object(r.useContext)(E),g=Object(r.useState)(o),R=Object(a.a)(g,2),w=R[0],h=R[1],I=Object(r.useState)(i),N=Object(a.a)(I,2),k=N[0],D=N[1];Object(r.useEffect)((function(){h(o)}),[o]),Object(r.useEffect)((function(){D(i)}),[i]);var L=function(e,t,n){return[].concat(Object(C.a)(e.slice(0,t)),[n],Object(C.a)(e.slice(t)))},H=function(e,t,n){return[].concat(Object(C.a)(e.slice(0,t+1)),[n],Object(C.a)(e.slice(t+1)))},S=function(e,t){return[].concat(Object(C.a)(e.slice(0,t)),Object(C.a)(e.slice(t+1)))},A=Object(r.useCallback)((function(e){var a="".concat(t).concat(e);return f.find(n.current,{accessor:a})?A(e+1):a}),[t,n]),_=Object(r.useCallback)((function(e){return{accessor:A(e.length),label:A(e.length),dataType:c.DataType.Undefined}}),[A]),F=Object(r.useCallback)((function(e){T(e),u(s.current)}),[T,u,s]),P=Object(r.useCallback)((function(e){switch(e){case c.TableOperation.ColumnInsertLeft:F(L(n.current,w,_(n.current)));break;case c.TableOperation.ColumnInsertRight:F(H(n.current,w,_(n.current)));break;case c.TableOperation.ColumnDelete:F(S(n.current,w));break;case c.TableOperation.RowInsertAbove:u(L(s.current,k,d()));break;case c.TableOperation.RowInsertBelow:u(H(s.current,k,d()));break;case c.TableOperation.RowDelete:u(S(s.current,k));break;case c.TableOperation.RowClear:u((t=s.current,a=k,[].concat(Object(C.a)(t.slice(0,a)),[x(t[a])],Object(C.a)(t.slice(a+1)))))}var t,a;b(!1)}),[_,F,d,u,w,k,b,n,s]);return Object(r.useMemo)((function(){var e,t;return r.createElement(l.a,{className:"table-handler",hasNoPadding:!0,showClose:!1,distance:5,position:"right",isVisible:p,shouldClose:function(){return b(!1)},shouldOpen:function(e){return null===e||void 0===e?void 0:e()},reference:function(){return m},appendTo:null!==(e=null===(t=j.boxedExpressionEditorRef)||void 0===t?void 0:t.current)&&void 0!==e?e:void 0,bodyContent:r.createElement(U,{handlerConfiguration:O,allowedOperations:y,onOperation:P})})}),[p,j.boxedExpressionEditorRef,O,y,P,b,m])},A=n(303),_=n(299),F=function(e){var t=e.tableInstance,n=e.tableRows,a=e.onRowsUpdate,o=e.editColumnLabel,i=e.headerVisibility,s=void 0===i?c.TableHeaderVisibility.Full:i,l=e.skipLastHeaderGroup,u=e.getColumnKey,d=e.tableColumns,p=e.onColumnsUpdate,b=Object(r.useCallback)((function(e,t){return a(f.map(n.current,(function(n){var a=n[e];return delete n[e],n[t]=a,n})))}),[a,n]),m=Object(r.useCallback)((function(e){return function(t){var n=t.name,a=void 0===n?"":n,r=t.dataType,o=void 0===r?c.DataType.Undefined:r,i=d.current[e].accessor,s=Object(C.a)(d.current);s[e].label=a,s[e].accessor=a,s[e].dataType=o,p(s),a!==i&&b(i,a)}}),[p,d,b]),E=Object(r.useCallback)((function(e,t){return r.createElement(A.a,Object.assign({},e.getHeaderProps(),{className:"fixed-column no-clickable-cell",key:"".concat(u(e),"-").concat(t)}),r.createElement("div",{className:"header-cell","data-ouia-component-type":"expression-column-header"},e.label))}),[u]),O=Object(r.useCallback)((function(e){return r.createElement("div",{className:"header-cell-info","data-ouia-component-type":"expression-column-header-cell-info"},e.headerCellElement?e.headerCellElement:r.createElement("p",{className:"pf-u-text-truncate"},e.label),e.dataType?r.createElement("p",{className:"pf-u-text-truncate data-type"},"(",e.dataType,")"):null)}),[]),v=Object(r.useCallback)((function(e,n){return r.createElement(A.a,Object.assign({},e.getHeaderProps(),t.getThProps(e,n),{className:"resizable-column ".concat(e.dataType?null:"no-clickable-cell"),key:"".concat(u(e),"-").concat(n)}),r.createElement("div",{className:"header-cell","data-ouia-component-type":"expression-column-header"},e.dataType?r.createElement(y,{title:o,selectedExpressionName:e.label,selectedDataType:e.dataType,onExpressionUpdate:m(n),key:"".concat(u(e),"-").concat(n)},O(e)):O(e),r.createElement("div",Object.assign({className:"pf-c-drawer ".concat(e.canResize?"":"resizer-disabled")},e.canResize?e.getResizerProps():{}),x)))}),[o,u,m,O,t]),T=Object(r.useCallback)((function(e,t){return e.isCountColumn?E(e,t):v(e,t)}),[E,v]),j=Object(r.useCallback)((function(e){return l?f.dropRight(e.headerGroups):e.headerGroups}),[l]),g=Object(r.useMemo)((function(){return j(t).map((function(e){return r.createElement(h.a,Object.assign({key:e.getHeaderGroupProps().key},e.getHeaderGroupProps()),e.headers.map((function(e,t){return T(e,t)})))}))}),[j,T,t]),R=Object(r.useCallback)((function(e){return r.createElement(h.a,null,f.nth(t.headerGroups,e).headers.map((function(e,t){return T(e,t)})))}),[T,t.headerGroups]);switch(s){case c.TableHeaderVisibility.Full:return r.createElement(_.a,{noWrap:!0},g);case c.TableHeaderVisibility.LastLevel:return r.createElement(_.a,{noWrap:!0},R(-1));case c.TableHeaderVisibility.SecondToLastLevel:return r.createElement(_.a,{noWrap:!0},R(-2));default:return null}},P="no-table-context-menu",W=function(e){var t=e.tableId,n=e.children,o=e.columnPrefix,s=void 0===o?"column-":o,l=e.editColumnLabel,u=e.onColumnsUpdate,d=e.onRowsUpdate,p=e.onRowAdding,b=void 0===p?function(){return{}}:p,m=e.defaultCell,O=e.rows,y=e.columns,v=e.handlerConfiguration,x=e.headerVisibility,T=e.headerLevels,j=void 0===T?0:T,w=e.skipLastHeaderGroup,h=void 0!==w&&w,I=e.getRowKey,k=void 0===I?function(e){return e.id}:I,D=e.getColumnKey,L=void 0===D?function(e){return e.id}:D,H=e.resetRowCustomFunction,U=Object(r.useRef)(null),A=Object(r.useContext)(E),_={label:"#",accessor:"#",width:60,minWidth:60,isCountColumn:!0};!function e(t,n){n>0&&(f.assign(t,{columns:[{label:"0",accessor:"0",minWidth:60,width:60,disableResizing:!0,isCountColumn:!0,hideFilter:!0}]}),e(t.columns[0],n-1))}(_,j);var W=Object(r.useRef)([_].concat(Object(C.a)(y))),B=Object(r.useRef)(O),M=Object(r.useState)(!1),V=Object(a.a)(M,2),z=V[0],Y=V[1],K=Object(r.useState)(document.body),X=Object(a.a)(K,2),G=X[0],J=X[1],q=Object(r.useState)(f.values(c.TableOperation).map((function(e){return parseInt(e.toString())}))),Q=Object(a.a)(q,2),Z=Q[0],$=Q[1],ee=Object(r.useState)(-1),te=Object(a.a)(ee,2),ne=te[0],ae=te[1],re=Object(r.useState)(-1),oe=Object(a.a)(re,2),ie=oe[0],ce=oe[1],se=Object(r.useCallback)((function(e){W.current=e,null===u||void 0===u||u(e.slice(1))}),[u]),le=Object(r.useCallback)((function(e){B.current=e,null===d||void 0===d||d(e)}),[d]),ue=Object(r.useCallback)((function(e,t,n){var a=Object(C.a)(B.current);a[e][t]=n,le(a)}),[le]),de=Object(r.useCallback)((function(e,t){var n=Object(C.a)(B.current);n[e]=t,le(n)}),[le]),pe={minWidth:150,width:150,Cell:Object(r.useCallback)((function(e){var t=e.column;return t.isCountColumn?e.value:m?m[t.id](e):function(e){var t=e.value,n=e.row.index,o=e.column.id,i=e.onCellUpdate,c=r.useState(t),s=Object(a.a)(c,2),l=s[0],u=s[1];Object(r.useEffect)((function(){u(t)}),[t]);var d=Object(r.useCallback)((function(e){u(e.target.value)}),[]),p=Object(r.useCallback)((function(){i(n,o,l)}),[o,n,l,i]);return r.createElement("textarea",{value:l||"",onChange:d,onBlur:p})}(e)}),[])},be=function(e){var t=e.closest("table")===U.current,n=!e.classList.contains(P);return t&&n},me=function(e,t){var n,a;J(e),null===(n=A.currentlyOpenedHandlerCallback)||void 0===n||n.call(A,!1),Y(!0),null===(a=A.setCurrentlyOpenedHandlerCallback)||void 0===a||a.call(A,(function(){return Y})),ae(t)},fe=Object(g.useTable)({columns:W.current,data:B.current,defaultColumn:pe,onCellUpdate:ue,onRowUpdate:de,getThProps:function(e,t){return{onContextMenu:function(n){var a=n.target,r=!e.disableHandlerOnHeader;be(a)&&r&&(n.preventDefault(),$([c.TableOperation.ColumnInsertLeft,c.TableOperation.ColumnInsertRight].concat(Object(C.a)(W.current.length>2&&t>0?[c.TableOperation.ColumnDelete]:[]))),me(a,t))}}},getTdProps:function(e,t){return{onContextMenu:function(n){var a=n.target;be(a)&&(n.preventDefault(),$([c.TableOperation.ColumnInsertLeft,c.TableOperation.ColumnInsertRight].concat(Object(C.a)(W.current.length>2&&e>0?[c.TableOperation.ColumnDelete]:[]),[c.TableOperation.RowInsertAbove,c.TableOperation.RowInsertBelow],Object(C.a)(B.current.length>1?[c.TableOperation.RowDelete]:[]),[c.TableOperation.RowClear])),me(a,e),ce(t))}}}},g.useBlockLayout,g.useResizeColumns),Ee=function e(t,n,a){var r=f.findIndex(t,{accessor:n});if(r>=0){var o=Object(i.a)({},t[r]);o.width=a,t.splice(r,1,o)}else f.forEach(t,(function(t){return e(t.columns,n,a)}))},Oe=null===fe.state.columnResizing.isResizingColumn&&!f.isEmpty(fe.state.columnResizing.columnWidths);return Object(r.useEffect)((function(){Oe&&(f.forEach(fe.state.columnResizing.columnWidths,(function(e,t){return Ee(W.current,t,e)})),se(W.current))}),[Oe]),r.createElement("div",{className:"table-component ".concat(t)},r.createElement(R.a,Object.assign({variant:"compact"},fe.getTableProps(),{ref:U}),r.createElement(F,{tableInstance:fe,editColumnLabel:l,headerVisibility:x,skipLastHeaderGroup:h,tableRows:B,onRowsUpdate:le,tableColumns:W,getColumnKey:L,onColumnsUpdate:se}),r.createElement(N,{tableInstance:fe,getRowKey:k,getColumnKey:L,headerVisibility:x},n)),z?r.createElement(S,{tableColumns:W,columnPrefix:s,handlerConfiguration:v,lastSelectedColumnIndex:ne,lastSelectedRowIndex:ie,tableRows:B,onRowsUpdate:le,onRowAdding:b,showTableHandler:z,setShowTableHandler:Y,tableHandlerAllowedOperations:Z,tableHandlerTarget:G,resetRowCustomFunction:H,onColumnsUpdate:se}):null)},B=function(e){var t=Object(d.useBoxedExpressionEditorI18n)().i18n,n=[{group:t.columns,items:[{name:t.columnOperations.insertLeft,type:c.TableOperation.ColumnInsertLeft},{name:t.columnOperations.insertRight,type:c.TableOperation.ColumnInsertRight},{name:t.columnOperations.delete,type:c.TableOperation.ColumnDelete}]},{group:t.rows,items:[{name:t.rowOperations.insertAbove,type:c.TableOperation.RowInsertAbove},{name:t.rowOperations.insertBelow,type:c.TableOperation.RowInsertBelow},{name:t.rowOperations.delete,type:c.TableOperation.RowDelete}]}],a=Object(r.useRef)(void 0===e.columns?[{name:"column-1",dataType:c.DataType.Undefined}]:e.columns),o=Object(r.useRef)(void 0===e.rows?[[""]]:e.rows),s=Object(r.useCallback)((function(){var t,n,r,c=Object(i.a)(Object(i.a)({},e),{},{columns:a.current,rows:o.current});e.isHeadless?null===(t=e.onUpdatingRecursiveExpression)||void 0===t||t.call(e,c):null===(n=window.beeApi)||void 0===n||null===(r=n.broadcastRelationExpressionDefinition)||void 0===r||r.call(n,c)}),[e]),l=Object(r.useCallback)((function(){return f.map(a.current,(function(e){return Object(i.a)({label:e.name,accessor:e.name,dataType:e.dataType},e.width?{width:e.width}:{})}))}),[]),u=Object(r.useCallback)((function(){return f.map(o.current,(function(e){return f.reduce(a.current,(function(t,n,a){return t[n.name]=e[a]||"",t}),{})}))}),[]),p=Object(r.useCallback)((function(e){o.current=f.map(e,(function(e){return f.reduce(a.current,(function(t,n){return t.push(e[n.name]||""),t}),[])})),s()}),[s]),b=Object(r.useCallback)((function(e){a.current=f.map(e,(function(e){return{name:e.accessor,dataType:e.dataType,width:e.width}})),s()}),[s]);return Object(r.useEffect)((function(){s()}),[s]),r.createElement("div",{className:"relation-expression"},r.createElement(W,{columnPrefix:"column-",editColumnLabel:t.editRelation,columns:l(),rows:u(),onColumnsUpdate:b,onRowsUpdate:p,handlerConfiguration:n}))},M=(n(282),n(283),function(e){var t=e.expression,n=e.onUpdatingRecursiveExpression,a=e.onExpressionResetting,o=Object(r.useRef)(null),i=Object(r.useRef)(t),s=void 0===t.logicType;Object(r.useEffect)((function(){i.current=f.omit(t,"isHeadless")}),[s]);var l=Object(r.useCallback)((function(){return o.current}),[]),u=Object(r.useCallback)((function(e){i.current.logicType=e,n(f.omit(i.current,"isHeadless"))}),[n]),d=Object(r.useCallback)((function(){i.current.logicType=c.LogicType.Undefined,null===a||void 0===a||a(),n(f.omit(i.current,"isHeadless"))}),[a,n]);return r.createElement("div",{className:"entry-expression",ref:o},r.createElement(ne,{isHeadless:!0,onUpdatingRecursiveExpression:n,selectedExpression:i.current,onLogicTypeUpdating:u,onLogicTypeResetting:d,getPlacementRef:l}))}),V=function(e){var t=e.data,n=e.row.index,a=e.onRowUpdate,o=t[n],c=Object(r.useRef)(Object(i.a)({uid:o.entryExpression.uid},o.entryExpression)),s=void 0===o.entryExpression.logicType;Object(r.useEffect)((function(){c.current=o.entryExpression,a(n,Object(i.a)(Object(i.a)({},o),{},{entryExpression:c.current}))}),[s]);var l=Object(r.useCallback)((function(e){c.current=e,a(n,Object(i.a)(Object(i.a)({},o),{},{entryExpression:e}))}),[]);return r.createElement("div",{className:"context-entry-expression-cell"},r.createElement(M,{expression:c.current,onUpdatingRecursiveExpression:l,onExpressionResetting:o.onExpressionResetting}))},z=(n(284),function(e){var t=e.name,n=e.dataType,o=e.onContextEntryUpdate,i=Object(d.useBoxedExpressionEditorI18n)().i18n,c=Object(r.useState)(t),s=Object(a.a)(c,2),l=s[0],u=s[1],p=Object(r.useState)(n),b=Object(a.a)(p,2),m=b[0],f=b[1];Object(r.useEffect)((function(){u(t)}),[t]),Object(r.useEffect)((function(){f(n)}),[n]);var E=Object(r.useCallback)((function(e){var t=e.name,n=e.dataType;u(t),f(n),o(t,n)}),[o]);return r.createElement("div",{className:"entry-info"},r.createElement(y,{title:i.editContextEntry,selectedExpressionName:l,selectedDataType:m,onExpressionUpdate:E},r.createElement("div",{className:"entry-definition"},r.createElement("p",{className:"entry-name pf-u-text-truncate",title:l},l),r.createElement("p",{className:"entry-data-type pf-u-text-truncate",title:m},"(",m,")"))))}),Y=function(e){var t=e.data,n=e.row.index,o=e.onRowUpdate,c=t[n],s=Object(r.useState)(c.entryInfo),l=Object(a.a)(s,2),u=l[0],d=l[1];Object(r.useEffect)((function(){d(c.entryInfo)}),[c.entryInfo]);var p=Object(r.useCallback)((function(e,t){o(n,Object(i.a)(Object(i.a)({},c),{},{entryInfo:{name:e,dataType:t}}))}),[c,n,o]);return r.createElement("div",{className:"context-entry-info-cell"},r.createElement(z,{name:u.name,dataType:u.dataType,onContextEntryUpdate:p}))},K="ContextEntry-1",X=c.DataType.Undefined,G=function(e){var t=e.uid,n=e.name,o=void 0===n?K:n,s=e.dataType,l=void 0===s?X:s,u=e.onUpdatingNameAndDataType,p=e.contextEntries,b=e.result,m=void 0===b?{}:b,E=e.entryInfoWidth,O=void 0===E?c.DEFAULT_ENTRY_INFO_MIN_WIDTH:E,y=e.entryExpressionWidth,v=void 0===y?c.DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH:y,x=e.isHeadless,T=void 0!==x&&x,j=e.onUpdatingRecursiveExpression,C=Object(d.useBoxedExpressionEditorI18n)().i18n,g=Object(r.useState)(m),R=Object(a.a)(g,2),w=R[0],h=R[1],I=Object(r.useState)(O),N=Object(a.a)(I,2),k=N[0],D=N[1],L=Object(r.useState)(v),H=Object(a.a)(L,2),U=H[0],S=H[1],A=Object(r.useState)([{label:o,accessor:o,dataType:l,disableHandlerOnHeader:!0,columns:[{label:"Name",accessor:"entryInfo",disableHandlerOnHeader:!0,width:k,minWidth:c.DEFAULT_ENTRY_INFO_MIN_WIDTH},{label:"Value",accessor:"entryExpression",disableHandlerOnHeader:!0,width:U,minWidth:c.DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH}]}]),_=Object(a.a)(A,2),F=_[0],P=_[1],B=Object(r.useState)(p||[{entryInfo:{name:K,dataType:X},entryExpression:{}}]),z=Object(a.a)(B,2),G=z[0],J=z[1],q=Object(r.useCallback)((function(e){var t,n,r=Object(a.a)(e,1)[0];null===u||void 0===u||u(r.label,r.dataType),S(null===(t=f.find(r.columns,{accessor:"entryExpression"}))||void 0===t?void 0:t.width),D(null===(n=f.find(r.columns,{accessor:"entryInfo"}))||void 0===n?void 0:n.width),P((function(e){var t=Object(a.a)(e,1)[0];return[Object(i.a)(Object(i.a)({},t),{},{label:r.label,accessor:r.accessor,dataType:r.dataType})]}))}),[u]),Q=Object(r.useCallback)((function(){return{entryInfo:{name:Object(c.generateNextAvailableEntryName)(G,"ContextEntry"),dataType:c.DataType.Undefined},entryExpression:{}}}),[G]),Z=Object(r.useCallback)((function(){return T?c.TableHeaderVisibility.LastLevel:c.TableHeaderVisibility.Full}),[T]);return Object(r.useEffect)((function(){var e,n,r=Object(a.a)(F,1)[0],o=Object(i.a)(Object(i.a)({uid:t,logicType:c.LogicType.Context,name:r.accessor,dataType:r.dataType,contextEntries:G,result:f.omit(w,"isHeadless")},k>c.DEFAULT_ENTRY_INFO_MIN_WIDTH?{entryInfoWidth:k}:{}),U>c.DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH?{entryExpressionWidth:U}:{});T?null===j||void 0===j||j(f.omit(o,["name","dataType"])):null===(e=window.beeApi)||void 0===e||null===(n=e.broadcastContextExpressionDefinition)||void 0===n||n.call(e,o)}),[F,T,j,G,w,k,U,t]),r.createElement("div",{className:"context-expression ".concat(t)},r.createElement(W,{tableId:t,headerLevels:1,headerVisibility:Z(),defaultCell:{entryInfo:Y,entryExpression:V},columns:F,rows:G,onColumnsUpdate:q,onRowAdding:Q,onRowsUpdate:J,handlerConfiguration:Object(c.getHandlerConfiguration)(C,C.contextEntry),getRowKey:Object(r.useCallback)(c.getEntryKey,[]),resetRowCustomFunction:Object(r.useCallback)(c.resetEntry,[])},r.createElement("div",{className:"context-result"},"<result>"),r.createElement(M,{expression:w,onUpdatingRecursiveExpression:h})))},J=n(91);var q=n(162),Q=n.n(q),Z=function(){return r.createElement("div",null,"Decision Table")},$=(n(285),function(e){var t=e.isHeadless,n=e.items,o=e.onUpdatingRecursiveExpression,s=e.uid,l=e.width,u=void 0===l?430:l,p=Object(d.useBoxedExpressionEditorI18n)().i18n,b=[{group:p.rows,items:[{name:p.rowOperations.insertAbove,type:c.TableOperation.RowInsertAbove},{name:p.rowOperations.insertBelow,type:c.TableOperation.RowInsertBelow},{name:p.rowOperations.delete,type:c.TableOperation.RowDelete},{name:p.rowOperations.clear,type:c.TableOperation.RowClear}]}],m=function(){return{logicType:c.LogicType.LiteralExpression}},E=Object(r.useState)(f.isEmpty(n)?[{entryExpression:m()}]:f.map(n,(function(e){return{entryExpression:e}}))),O=Object(a.a)(E,2),y=O[0],v=O[1],x=Object(r.useRef)(u),j=Object(r.useCallback)((function(e){return e.original.entryExpression.uid}),[]),C=Object(r.useCallback)((function(){return{entryExpression:m()}}),[]),g=Object(r.useCallback)((function(){var e,n,a=Object(i.a)(Object(i.a)({uid:s},430!==x.current?{width:x.current}:{}),{},{logicType:c.LogicType.List,items:f.map(y,(function(e){return e.entryExpression}))});t?null===o||void 0===o||o(a):null===(e=window.beeApi)||void 0===e||null===(n=e.broadcastListExpressionDefinition)||void 0===n||n.call(e,a)}),[t,y,o,s]),R=Object(r.useCallback)((function(e){v(e)}),[]),w=Object(r.useCallback)((function(e){return{entryExpression:{uid:e.entryExpression.uid}}}),[]),h=Object(r.useCallback)((function(e){x.current=e,g()}),[g]);return Object(r.useEffect)((function(){g()}),[y,g]),r.createElement("div",{className:"list-expression"},r.createElement(T,{width:x.current,height:"100%",minWidth:430,onHorizontalResizeStop:h},r.createElement(W,{tableId:s,headerVisibility:c.TableHeaderVisibility.None,defaultCell:{list:V},columns:[{accessor:"list",width:"100%"}],rows:y,onRowsUpdate:R,onRowAdding:C,handlerConfiguration:b,getRowKey:j,resetRowCustomFunction:w})))}),ee=(n(286),c.DataType.Undefined),te=function(e){var t=e.bindingEntries,n=e.dataType,o=void 0===n?ee:n,s=e.entryInfoWidth,l=void 0===s?c.DEFAULT_ENTRY_INFO_MIN_WIDTH:s,u=e.entryExpressionWidth,p=void 0===u?c.DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH:u,b=e.invokedFunction,m=void 0===b?"":b,E=e.isHeadless,O=e.logicType,y=e.name,v=void 0===y?"p-1":y,x=e.onUpdatingNameAndDataType,T=e.onUpdatingRecursiveExpression,j=e.uid,C=Object(d.useBoxedExpressionEditorI18n)().i18n,g=Object(r.useState)(t||[{entryInfo:{name:"p-1",dataType:ee},entryExpression:{}}]),R=Object(a.a)(g,2),w=R[0],h=R[1],I=Object(r.useRef)(m),N=Object(r.useRef)(l),k=Object(r.useRef)(p),D=Object(r.useCallback)((function(){var e,t,n=Object(a.a)(S.current,1)[0],r=Object(i.a)(Object(i.a)({uid:j,logicType:O,name:n.accessor,dataType:n.dataType,bindingEntries:w,invokedFunction:I.current},N.current>c.DEFAULT_ENTRY_INFO_MIN_WIDTH?{entryInfoWidth:N.current}:{}),k.current>c.DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH?{entryExpressionWidth:k.current}:{});E?null===T||void 0===T||T(f.omit(r,["name","dataType"])):null===(e=window.beeApi)||void 0===e||null===(t=e.broadcastInvocationExpressionDefinition)||void 0===t||t.call(e,r)}),[I,E,O,T,w,j]),L=Object(r.useCallback)((function(e){I.current=e.target.value}),[]),H=Object(r.useCallback)((function(){D()}),[D]),U=r.createElement("div",{className:"function-definition-container"},r.createElement("input",{className:"function-definition pf-u-text-truncate",type:"text",placeholder:C.enterFunction,onChange:L,onBlur:H,defaultValue:I.current})),S=Object(r.useRef)([{label:v,accessor:v,dataType:o,disableHandlerOnHeader:!0,columns:[{headerCellElement:U,accessor:"functionDefinition",disableHandlerOnHeader:!0,columns:[{accessor:"entryInfo",disableHandlerOnHeader:!0,canResizeOnCell:!0,width:N.current,minWidth:c.DEFAULT_ENTRY_INFO_MIN_WIDTH},{accessor:"entryExpression",disableHandlerOnHeader:!0,canResizeOnCell:!0,width:k.current,minWidth:c.DEFAULT_ENTRY_EXPRESSION_MIN_WIDTH}]}]}]),A=Object(r.useCallback)((function(e){var t,n,r=Object(a.a)(e,1)[0];null===x||void 0===x||x(r.label,r.dataType),N.current=null===(t=f.find(r.columns,{accessor:"entryInfo"}))||void 0===t?void 0:t.width,k.current=null===(n=f.find(r.columns,{accessor:"entryExpression"}))||void 0===n?void 0:n.width;var o=Object(a.a)(S.current,1)[0];o.label=r.label,o.accessor=r.accessor,o.dataType=r.dataType,D()}),[x,D]),_=Object(r.useCallback)((function(){return{entryInfo:{name:Object(c.generateNextAvailableEntryName)(w,"p"),dataType:ee},entryExpression:{}}}),[w]),F=Object(r.useCallback)((function(){return E?c.TableHeaderVisibility.SecondToLastLevel:c.TableHeaderVisibility.Full}),[E]);return Object(r.useEffect)((function(){D()}),[w,D]),r.createElement("div",{className:"invocation-expression ".concat(j)},r.createElement(W,{tableId:j,headerLevels:2,headerVisibility:F(),skipLastHeaderGroup:!0,defaultCell:{entryInfo:Y,entryExpression:V},columns:S.current,rows:w,onColumnsUpdate:A,onRowAdding:_,onRowsUpdate:h,handlerConfiguration:Object(c.getHandlerConfiguration)(C,C.parameters),getRowKey:Object(r.useCallback)(c.getEntryKey,[]),resetRowCustomFunction:Object(r.useCallback)(c.resetEntry,[])}))},ne=function(e){var t=e.selectedExpression,n=e.onLogicTypeUpdating,o=e.onLogicTypeResetting,i=e.onUpdatingNameAndDataType,s=e.getPlacementRef,l=e.isHeadless,p=void 0!==l&&l,b=e.onUpdatingRecursiveExpression,m=Object(d.useBoxedExpressionEditorI18n)().i18n,O=Object(r.useContext)(E),y=f.extend(t,{uid:t.uid||Q()(),isHeadless:p,onUpdatingNameAndDataType:i,onUpdatingRecursiveExpression:b}),v=function(e){return!f.isEmpty(e)&&e!==c.LogicType.Undefined},x=Object(r.useState)(v(y.logicType)),T=Object(a.a)(x,2),C=T[0],g=T[1];Object(r.useEffect)((function(){g(v(t.logicType))}),[t.logicType]);var R=function(){var e=Object(r.useRef)(null),t=Object(r.useState)("0px"),n=Object(a.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)("0px"),s=Object(a.a)(c,2),l=s[0],u=s[1],d=Object(r.useState)(!1),p=Object(a.a)(d,2),b=p[0],m=p[1],f=Object(r.useCallback)((function(){b&&m(!1)}),[b]),E=Object(r.useCallback)((function(t){e.current&&e.current===t.target&&(t.preventDefault(),i("".concat(t.pageX,"px")),u("".concat(t.pageY,"px")),m(!0))}),[i,u]);return Object(r.useEffect)((function(){return document.addEventListener("click",f),document.addEventListener("contextmenu",f),document.addEventListener("contextmenu",E),function(){document.removeEventListener("click",f),document.removeEventListener("contextmenu",f),document.removeEventListener("contextmenu",E)}})),{contextMenuRef:e,contextMenuXPos:o,contextMenuYPos:l,contextMenuVisibility:b,setContextMenuVisibility:m}}(),w=R.contextMenuRef,h=R.contextMenuXPos,I=R.contextMenuYPos,N=R.contextMenuVisibility,D=R.setContextMenuVisibility,U=Object(r.useMemo)((function(){switch(y.logicType){case c.LogicType.LiteralExpression:return r.createElement(j,y);case c.LogicType.Relation:return r.createElement(B,y);case c.LogicType.Context:return r.createElement(G,y);case c.LogicType.DecisionTable:return r.createElement(Z,y);case c.LogicType.Invocation:return r.createElement(te,y);case c.LogicType.List:return r.createElement($,y);case c.LogicType.Function:default:return y.logicType}}),[y.logicType]),S=Object(r.useCallback)((function(){return Object.values(c.LogicType).filter((function(e){return e!==c.LogicType.Undefined}))}),[]),A=Object(r.useCallback)((function(){return f.map(S(),(function(e){return r.createElement(H.a,{key:e,itemId:e},e)}))}),[S]),_=Object(r.useCallback)((function(){return s()}),[s]),F=Object(r.useCallback)((function(){var e,t;return null!==(e=null===(t=O.boxedExpressionEditorRef)||void 0===t?void 0:t.current)&&void 0!==e?e:_}),[_,O.boxedExpressionEditorRef]),W=Object(r.useCallback)((function(e,t){g(!0),n(t)}),[n]),M=Object(r.useCallback)((function(){return r.createElement(u,{title:m.selectLogicType,arrowPlacement:_,appendTo:F(),className:"logic-type-popover",hasAutoWidth:!0,body:r.createElement(k.a,{onSelect:W},r.createElement(L.a,null,A()))})}),[m.selectLogicType,_,F,W,A]),V=Object(r.useCallback)((function(){g(!1),D(!1),o()}),[o,D]),z=Object(r.useCallback)((function(){return r.createElement("div",{className:"context-menu-container no-table-context-menu",style:{top:I,left:h}},r.createElement(J.a,{isDisabled:!C,isSmall:!0,variant:J.b.primary,onClick:V},m.clear))}),[C,h,I,V,m.clear]);return r.createElement("div",{className:"logic-type-selector ".concat(P," ").concat(C?"logic-type-selected":"logic-type-not-present"),ref:w},C?U:m.selectExpression,C?null:M(),N?z():null)},ae=function(e){var t=Object(r.useRef)(null),n=Object(r.useState)(e.selectedExpression),o=Object(a.a)(n,2),s=o[0],l=o[1],u=Object(r.useCallback)((function(e,t){l((function(n){return Object(i.a)(Object(i.a)({},n),{},{name:e,dataType:t})}))}),[]),d=Object(r.useCallback)((function(e){l((function(t){return Object(i.a)(Object(i.a)({},t),{},{logicType:e})}))}),[]),p=Object(r.useCallback)((function(){l((function(e){var t,n,a={uid:e.uid,name:e.name,dataType:e.dataType,logicType:c.LogicType.Undefined};return null===(t=window.beeApi)||void 0===t||null===(n=t.resetExpressionDefinition)||void 0===n||n.call(t,a),a}))}),[]),b=Object(r.useCallback)((function(){return t.current}),[]);return r.createElement("div",{className:"expression-container"},r.createElement("div",{className:"expression-name-and-logic-type"},r.createElement("span",{className:"expression-title"},s.name),r.createElement("span",{className:"expression-type"},"(",s.logicType||c.LogicType.Undefined,")")),r.createElement("div",{className:"expression-container-box",ref:t,"data-ouia-component-id":"expression-container"},r.createElement(ne,{selectedExpression:s,onLogicTypeUpdating:d,onLogicTypeResetting:p,onUpdatingNameAndDataType:u,getPlacementRef:b})))},re=function(e){var t=Object(r.useState)((function(){return f.identity})),n=Object(a.a)(t,2),i=n[0],c=n[1],s=Object(r.useRef)(null);return r.createElement(o.I18nDictionariesProvider,{defaults:d.boxedExpressionEditorI18nDefaults,dictionaries:d.boxedExpressionEditorDictionaries,initialLocale:navigator.language,ctx:d.BoxedExpressionEditorI18nContext},r.createElement(E.Provider,{value:{boxedExpressionEditorRef:s,currentlyOpenedHandlerCallback:i,setCurrentlyOpenedHandlerCallback:c}},r.createElement("div",{className:"boxed-expression-editor",ref:s},r.createElement(ae,e.expressionDefinition))))}}},[[166,1,2]]]);
//# sourceMappingURL=main.1235ddbf.chunk.js.map