(this["webpackJsonpboxed-expression-editor-showcase"]=this["webpackJsonpboxed-expression-editor-showcase"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t),n.d(t,"App",(function(){return c}));var a=n(6),i=n(0),o=n(33),r=(n(105),n(66)),c=function(){var e={name:"Expression Name",dataType:r.DataType.Undefined},t=Object(i.useState)(e),n=Object(a.a)(t,2),o=n[0],c=n[1],s={selectedExpression:e};return window.beeApi={resetExpressionDefinition:function(e){return c(e)},broadcastLiteralExpressionDefinition:function(e){return c(e)}},i.createElement("div",{className:"showcase"},i.createElement("div",{className:"boxed-expression"},i.createElement(r.BoxedExpressionEditor,{expressionDefinition:s})),i.createElement("div",{className:"updated-json"},i.createElement("p",null,"\u26a0 Currently, JSON gets updated only for literal expression logic type"),i.createElement("pre",null,JSON.stringify(o,null,2))))};o.render(i.createElement(c,null),document.getElementById("root"))},105:function(e,t,n){},106:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},14:function(e,t,n){"use strict";var a=n(73);n.o(a,"DataType")&&n.d(t,"DataType",(function(){return a.DataType})),n.o(a,"LogicType")&&n.d(t,"LogicType",(function(){return a.LogicType}));var i=n(74);n.d(t,"DataType",(function(){return i.a}));var o=n(75);n.d(t,"LogicType",(function(){return o.a}))},35:function(e,t,n){"use strict";var a=n(72);n.o(a,"BoxedExpressionEditorI18nContext")&&n.d(t,"BoxedExpressionEditorI18nContext",(function(){return a.BoxedExpressionEditorI18nContext})),n.o(a,"boxedExpressionEditorDictionaries")&&n.d(t,"boxedExpressionEditorDictionaries",(function(){return a.boxedExpressionEditorDictionaries})),n.o(a,"boxedExpressionEditorI18nDefaults")&&n.d(t,"boxedExpressionEditorI18nDefaults",(function(){return a.boxedExpressionEditorI18nDefaults})),n.o(a,"useBoxedExpressionEditorI18n")&&n.d(t,"useBoxedExpressionEditorI18n",(function(){return a.useBoxedExpressionEditorI18n}));var i=n(77);n.d(t,"BoxedExpressionEditorI18nContext",(function(){return i.a})),n.d(t,"boxedExpressionEditorDictionaries",(function(){return i.b})),n.d(t,"boxedExpressionEditorI18nDefaults",(function(){return i.c})),n.d(t,"useBoxedExpressionEditorI18n",(function(){return i.d}))},66:function(e,t,n){"use strict";var a=n(76);n.d(t,"BoxedExpressionEditor",(function(){return a.a}));var i=n(14);n.o(i,"DataType")&&n.d(t,"DataType",(function(){return i.DataType}))},72:function(e,t){},73:function(e,t){},74:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Undefined="<Undefined>",e.Any="Any",e.Boolean="boolean",e.Context="context",e.Date="date",e.DateTime="date and time",e.DateTimeDuration="days and time duration",e.Number="number",e.String="string",e.Time="time",e.YearsMonthsDuration="years and months duration"}(a||(a={}))},75:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.Undefined="<Undefined>",e.LiteralExpression="Literal expression",e.Context="Context",e.DecisionTable="Decision Table",e.Relation="Relation",e.Function="Function",e.Invocation="Invocation",e.List="List"}(a||(a={}))},76:function(e,t,n){"use strict";n(106);var a=n(0),i=(n(107),n(78)),o=n(38),r=n(6),c=n(52),s=(n(110),n(35)),l=n(140),u=n(96),d=n(144),p=n(141),b=(n(111),function(e){var t=e.arrowPlacement,n=e.body,i=e.title,o=e.appendTo;return a.createElement(p.a,{className:"popover-menu-selector",position:"bottom",distance:0,id:"menu-selector",reference:t,appendTo:o,headerContent:a.createElement("div",{className:"selector-menu-title"},i),bodyContent:n})}),x=n(14),f=(n(121),n(139)),m=(n(122),n(40)),E=n(142),y=n(4),v=function(e){var t,n,i,o=e.appendTo,l=e.arrowPlacement,u=e.title,d=e.nameField,p=e.dataTypeField,f=e.selectedDataType,v=void 0===f?x.DataType.Undefined:f,T=e.selectedExpressionName,O=e.onExpressionUpdate,j=Object(s.useBoxedExpressionEditorI18n)().i18n;u=null!==(t=u)&&void 0!==t?t:j.editExpression,d=null!==(n=d)&&void 0!==n?n:j.name,p=null!==(i=p)&&void 0!==i?i:j.dataType;var g=Object(a.useState)(!1),D=Object(r.a)(g,2),C=D[0],L=D[1],N=Object(a.useState)(v),k=Object(r.a)(N,2),h=k[0],w=k[1],I=Object(a.useState)(T),S=Object(r.a)(I,2),B=S[0],U=S[1],A=Object(a.useCallback)((function(e){U(e.target.value),"blur"===e.type&&O({name:e.target.value,dataType:h})}),[h,O]),F=Object(a.useCallback)((function(e,t){L(!1),w(t),O({name:B,dataType:t})}),[B,O]),P=Object(a.useCallback)((function(){return c.map(Object.values(x.DataType),(function(e){return a.createElement(m.a,{key:e,value:e},e)}))}),[]),R=Object(a.useCallback)((function(e){var t;try{t=new RegExp(e.target.value,"i")}catch(n){return P()}return""!==e.target.value?P().filter((function(e){return t.test(e.props.value)})):P()}),[P]),J=Object(a.useCallback)((function(e){return L(e)}),[]);return a.createElement(b,{title:u,arrowPlacement:l,appendTo:o,body:a.createElement("div",{className:"edit-expression-menu"},a.createElement("div",{className:"expression-name"},a.createElement("label",null,d),a.createElement("input",{type:"text",id:"expression-name",value:B,onChange:A,onBlur:A,className:"form-control pf-c-form-control",placeholder:"Expression Name"})),a.createElement("div",{className:"expression-data-type"},a.createElement("label",null,p),a.createElement(E.a,{variant:y.e.typeahead,typeAheadAriaLabel:j.choose,onToggle:J,onSelect:F,onFilter:R,isOpen:C,selections:h,hasInlineFilter:!0,inlineFilterPlaceholderText:j.choose},P())))})},T=function(e){var t=e.content,n=e.dataType,i=e.name,o=e.onUpdatingNameAndDataType,c=e.isHeadless,s=void 0!==c&&c,l=Object(a.useState)(i),u=Object(r.a)(l,2),d=u[0],p=u[1],b=Object(a.useState)(n),m=Object(r.a)(b,2),E=m[0],y=m[1],T=Object(a.useState)(t),O=Object(r.a)(T,2),j=O[0],g=O[1];Object(a.useEffect)((function(){var e;(null===(e=window.beeApi)||void 0===e?void 0:e.broadcastLiteralExpressionDefinition)&&window.beeApi.broadcastLiteralExpressionDefinition({name:d,dataType:E,logicType:x.LogicType.LiteralExpression,content:j})}));var D=Object(a.useCallback)((function(e){var t=e.dataType,n=e.name;p(n),y(t),o&&o(n,t)}),[o]),C=Object(a.useCallback)((function(e){var t=e.target.value;g(t)}),[]),L=Object(a.useCallback)((function(){return document.querySelector(".literal-expression-header")}),[]),N=Object(a.useCallback)((function(){return a.createElement("div",{className:"literal-expression-header"},a.createElement("p",{className:"expression-name"},d),a.createElement("p",{className:"expression-data-type"},"(",E,")"))}),[E,d]);return a.createElement("div",{className:"literal-expression"},s?null:N(),a.createElement("div",{className:"literal-expression-body"},a.createElement(f.a,{defaultValue:j,onBlur:C,"aria-label":"literal-expression-content"})),a.createElement(v,{arrowPlacement:L,selectedExpressionName:d,selectedDataType:E,onExpressionUpdate:D}))};var O=function(e){var t=Object(s.useBoxedExpressionEditorI18n)().i18n,n=Object(a.useState)(!c.isEmpty(e.selectedExpression.logicType)||e.selectedExpression.logicType===x.LogicType.Undefined),i=Object(r.a)(n,2),p=i[0],f=i[1],m=Object(a.useState)(e.selectedExpression),E=Object(r.a)(m,2),y=E[0],v=E[1],O=function(){var e=Object(a.useRef)(null),t=Object(a.useState)("0px"),n=Object(r.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)("0px"),s=Object(r.a)(c,2),l=s[0],u=s[1],d=Object(a.useState)(!1),p=Object(r.a)(d,2),b=p[0],x=p[1],f=Object(a.useCallback)((function(){b&&x(!1)}),[b]),m=Object(a.useCallback)((function(t){e.current&&e.current===t.target&&(t.preventDefault(),o("".concat(t.pageX,"px")),u("".concat(t.pageY,"px")),x(!0))}),[o,u]);return Object(a.useEffect)((function(){return document.addEventListener("click",f),document.addEventListener("contextmenu",m),function(){document.removeEventListener("click",f),document.removeEventListener("contextmenu",m)}})),[e,i,l,b,x]}(),j=Object(r.a)(O,5),g=j[0],D=j[1],C=j[2],L=j[3],N=j[4],k=Object(a.useCallback)((function(e,t){f(!0);var n=t.children;v((function(e){return Object(o.a)(Object(o.a)({},e),{},{logicType:n})}))}),[]),h=Object(a.useCallback)((function(){f(!1),N(!1),v((function(e){var t,n={name:e.name,dataType:e.dataType,logicType:x.LogicType.Undefined};return(null===(t=window.beeApi)||void 0===t?void 0:t.resetExpressionDefinition)&&window.beeApi.resetExpressionDefinition(n),n}))}),[N]),w=Object(a.useCallback)((function(){return Object.values(x.LogicType).filter((function(e){return e!==x.LogicType.Undefined}))}),[]),I=Object(a.useCallback)((function(){return c.map(w(),(function(e){return a.createElement(l.a,{key:e},e)}))}),[w]),S=Object(a.useCallback)((function(){return document.querySelector(".expression-container-box")}),[]),B=Object(a.useCallback)((function(){return a.createElement(b,{title:t.selectLogicType,arrowPlacement:S,body:a.createElement(u.a,{onSelect:k},I())})}),[t.selectLogicType,S,k,I]),U=Object(a.useCallback)((function(e,t){v((function(n){return Object(o.a)(Object(o.a)({},n),{},{name:e,dataType:t})}))}),[]),A=Object(a.useMemo)((function(){switch(y.logicType){case x.LogicType.LiteralExpression:return a.createElement(T,Object.assign({onUpdatingNameAndDataType:U},y));case x.LogicType.Context:case x.LogicType.DecisionTable:case x.LogicType.Relation:case x.LogicType.Function:case x.LogicType.Invocation:case x.LogicType.List:default:return y.logicType}}),[y,U]),F=Object(a.useCallback)((function(){return a.createElement("div",{className:"context-menu-container",style:{top:C,left:D}},a.createElement(d.a,{isDisabled:!p,isSmall:!0,variant:d.b.primary,onClick:h},t.clear))}),[p,D,C,h,t.clear]);return a.createElement("div",{className:"expression-container"},a.createElement("span",{className:"expression-title"},y.name),a.createElement("span",{className:"expression-type"},"(",y.logicType||x.LogicType.Undefined,")"),a.createElement("div",{className:"expression-container-box ".concat(p?"logic-type-selected":"logic-type-not-present"),ref:g},y.logicType?A:t.selectExpression),p?null:B(),L?F():null)},j=function(e){return a.createElement(i.I18nDictionariesProvider,{defaults:s.boxedExpressionEditorI18nDefaults,dictionaries:s.boxedExpressionEditorDictionaries,initialLocale:navigator.language,ctx:s.BoxedExpressionEditorI18nContext},a.createElement(O,e.expressionDefinition))};n.d(t,"a",(function(){return j}))},77:function(e,t,n){"use strict";var a=n(0),i=n(38),o=n(79),r=Object(i.a)(Object(i.a)({choose:"Choose...",editExpression:"Edit Expression",name:"Name",dataType:"Data Type"},o.en),{},{selectExpression:"Select expression",selectLogicType:"Select logic type",literalExpression:"Literal expression",context:"Context",decisionTable:"Decision Table",relation:"Relation",function:"Function",invocation:"Invocation",list:"List",clear:"Clear"});n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u}));var c={locale:"en",dictionary:r},s=new Map([["en",r]]),l=a.createContext({});function u(){return Object(a.useContext)(l)}},99:function(e,t,n){e.exports=n(100)}},[[99,1,2]]]);
//# sourceMappingURL=main.80d43e2f.chunk.js.map